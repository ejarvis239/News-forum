(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(65)},30:function(e,t,a){},33:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),l=(a(30),a(1)),o=a(2),m=a(4),s=a(3),u=a(5),d=(a(8),a(33),a(6)),p=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"News Topics"),r.a.createElement("div",{id:"TopicsContainer"},r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"Coding"),r.a.createElement(d.a,{to:"/articles/coding",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/be/dd/ef/beddef99d59666201ae293bcc362ec97.jpg",alt:"Coding",width:"100",height:"100"}))),r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"Football"),r.a.createElement(d.a,{to:"/articles/football",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/9a/07/ab/9a07ab814238e792d99daba3a093b005.jpg",alt:"Football",width:"100",height:"100"}),"  ")),r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"Cooking"),r.a.createElement(d.a,{to:"/articles/cooking",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/c2/eb/eb/c2ebeb96f22ff99135eef8e4c24bb730.jpg",alt:"Cooking",width:"100"}),"  ")),r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"Music"),r.a.createElement(d.a,{to:"/articles/music",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/4f/17/66/4f1766cd89d046f899a9480ada9be3aa.jpg",alt:"Music",width:"100"}),"  ")),r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"Movies"),r.a.createElement(d.a,{to:"/articles/movies",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/1a/6f/b1/1a6fb1a4aed5cc0d2a502628bae02352.jpg",alt:"Music",width:"100"}),"  ")),r.a.createElement("div",{id:"Topic"},r.a.createElement("h2",null,"All Articles"),r.a.createElement(d.a,{to:"/articles",className:"nav"}," ",r.a.createElement("img",{src:"https://i.pinimg.com/564x/4e/e8/9a/4ee89ab101a9f206e1ed6867df87dce5.jpg",alt:"Music",width:"100"}),"  "))))},h=function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p,{path:"/",heading:"topics"}))};a(9);var b=function(e){var t=e.articleList,a={coding:"https://i.pinimg.com/564x/be/dd/ef/beddef99d59666201ae293bcc362ec97.jpg",football:"https://i.pinimg.com/564x/9a/07/ab/9a07ab814238e792d99daba3a093b005.jpg",cooking:"https://i.pinimg.com/564x/c2/eb/eb/c2ebeb96f22ff99135eef8e4c24bb730.jpg"};return r.a.createElement("div",{id:"TopicsContainer"},t.reduce(function(e,t){return e.push(r.a.createElement("div",{id:"TopicsContainer",key:t._id},r.a.createElement("div",{id:"Topic"},r.a.createElement("h3",null,t.title),r.a.createElement(d.a,{to:"/article/".concat(t._id),className:"nav"}," ",r.a.createElement("img",{src:a[t.belongs_to],alt:"{article.belongs_to}",width:"300",height:"300"})),r.a.createElement("p",null,t.body.slice(0,100),"....")))),e},[])," ")},f=a(13),E=a.n(f),g=a(23),v=a(10),C=a.n(v),j="https://nc-news-emma.herokuapp.com/api",y=function(e){var t=e?"".concat(j,"/topics/").concat(e,"/articles"):"".concat(j,"/articles");return C.a.get(t).then(function(e){return e.data.articles})},O=function(e){return C.a.get("".concat(j,"/articles/").concat(e)).then(function(e){return e.data.article})},w=function(e){return C.a.get("".concat(j,"/articles/").concat(e,"/comments")).then(function(e){return e.data.comments})},_=function(e,t){return console.log(e,t),C.a.patch("".concat(j,"/articles/").concat(e,"?vote=").concat(t)).then(function(e){return e.data.article})},k=function(e,t){return C.a.patch("".concat(j,"/comments/").concat(e,"?vote=").concat(t)).then(function(e){return e.data.comment})},M=function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(j,"/users/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.user);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){return C.a.post("".concat(j,"/articles/").concat(e,"/comments"),{body:t,created_by:a}).then(function(e){return e.data.comment})},x=function(e){return C.a.delete("".concat(j,"/comments/").concat(e))},A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a.componentDidMount=function(){a.fetchArticles()},a.componentDidUpdate=function(e){e.topic!==a.props.topic&&a.fetchArticles()},a.fetchArticles=function(){y(a.props.topic).then(function(e){console.log(e),a.setState({articles:e})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{articleList:this.state.articles}))}}]),t}(n.Component),T=a(24),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={voteMod:0,err:null},a.vote=function(e){k(a.props.id,e),a.setState(function(t){return{voteMod:"up"===e?t.voteMod+1:t.voteMod-1}})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.id,t.votes),n=this.state.voteMod;return r.a.createElement("div",{id:"articleVotes"},r.a.createElement("p",{id:"commentVotes"},"Votes: ",a+this.state.voteMod),r.a.createElement("button",{onClick:function(){return e.vote("up")},disabled:1===n}," ",r.a.createElement("img",{src:"http://icons-for-free.com/free-icons/png/512/2400509.png",alt:"Vote Up",width:"40"})," "),r.a.createElement("button",{onClick:function(){return e.vote("down")},disabled:-1===n}," ",r.a.createElement("img",{src:"http://icons-for-free.com/free-icons/png/512/2400511.png",alt:"Vote Down",width:"40"})," "))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).delete=function(){a.props.deleteComment(a.props.id)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"articleVotes"},r.a.createElement("button",{onClick:function(){return e.delete()}}," DELETE COMMENT "))}}]),t}(n.Component),D=function(e){return r.a.createElement("div",null,e.comments.map(function(t){return r.a.createElement("div",null,r.a.createElement("div",{id:"singleCommentContainer"},r.a.createElement("p",{id:"commentItems"},r.a.createElement("strong",null,"username: ",t.created_by.username),r.a.createElement("br",null),r.a.createElement("img",{src:t.created_by.avatar_url,alt:t.created_by.name,height:"42"}),r.a.createElement("br",null),"created: ",t.created_at),r.a.createElement("p",{id:"commentBody"},t.body),t.created_by._id===e.user._id&&r.a.createElement(V,{id:t._id,created_by:t.created_by._id,user:e.user,deleteComment:e.deleteComment})),r.a.createElement("div",{id:"singleCommentContainer"},r.a.createElement(N,{id:t._id,votes:t.votes})))}))},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={body:""},a.handleSubmit=function(e){e.preventDefault(),a.props.addComment(a.state.body)},a.handleChange=function(e){var t=e.target.value;a.setState({body:t})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"postCommentContainer"},r.a.createElement("form",{id:"postCommentContainer",onSubmit:this.handleSubmit},r.a.createElement("input",{id:"postCommentBox",type:"text","aria-label":"comment body",placeholder:"Post a comment...",onChange:this.handleChange,name:"body"}),r.a.createElement("button",null,"Post")))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={voteMod:0,err:null},a.vote=function(e){_(a.props.id,e),a.setState(function(t){return{voteMod:"up"===e?t.voteMod+1:t.voteMod-1}})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.votes,a=this.state.voteMod;return r.a.createElement("div",{id:"articleVotes"},r.a.createElement("p",{id:"articleVotes"},"Votes: ",t+this.state.voteMod),r.a.createElement("button",{onClick:function(){return e.vote("up")},disabled:1===a}," ",r.a.createElement("img",{src:"http://icons-for-free.com/free-icons/png/512/2400509.png",alt:"Vote Up",width:"40"})," "),r.a.createElement("button",{onClick:function(){return e.vote("down")},disabled:-1===a}," ",r.a.createElement("img",{src:"http://icons-for-free.com/free-icons/png/512/2400511.png",alt:"Vote Down",width:"40"})," "))}}]),t}(n.Component),J=function(e){return r.a.createElement("div",{id:"ArticleContainer"},r.a.createElement("p",{id:"articleTitle"},e.article.title),r.a.createElement("p",{id:"topicItems"},"Topic: ",e.article.belongs_to,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{id:"articleImage",src:{coding:"https://i.pinimg.com/564x/be/dd/ef/beddef99d59666201ae293bcc362ec97.jpg",football:"https://i.pinimg.com/564x/9a/07/ab/9a07ab814238e792d99daba3a093b005.jpg",cooking:"https://i.pinimg.com/564x/c2/eb/eb/c2ebeb96f22ff99135eef8e4c24bb730.jpg"}[e.article.belongs_to],alt:"{article.belongs_to}",width:"100",height:"100"})),r.a.createElement("p",{id:"articleBody"},e.article.body),r.a.createElement(B,{id:e.article._id,votes:e.article.votes}),r.a.createElement("p",{id:"createdBy"},r.a.createElement("img",{id:"userImage",src:e.article.created_by.avatar_url,alt:"jessjelly",width:"100"}),r.a.createElement("br",null),"Author: ",e.article.created_by.username,r.a.createElement("br",null),"Created: ",e.article.created_at),r.a.createElement("div",{id:"postCommentContainer"},r.a.createElement(I,{articleId:e.article._id,user:e.user,addComment:e.addComment})),r.a.createElement("p",{id:"Responses"},r.a.createElement("strong",null,"Responses")),r.a.createElement("div",{id:"commentContainer"},r.a.createElement("p",{id:"commentCount"},"Comments: ",e.article.comments),r.a.createElement("div",{id:"singleCommentContainer"},r.a.createElement(D,{comments:e.comments,user:e.user,deleteComment:e.deleteComment}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))},F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={article:null,comments:null},a.componentDidMount=function(){a.fetchArticle(),a.fetchComments()},a.fetchArticle=function(){O(a.props.article_id).then(function(e){a.setState({article:e})}).catch(function(e){a.props.navigate("/error",{replace:!0,state:{msg:e.message}})})},a.fetchComments=function(){w(a.props.article_id).then(function(e){a.setState({comments:e})})},a.addComment=function(e){S(a.props.article_id,e,a.props.user._id).then(function(e){a.setState({comments:[e].concat(Object(T.a)(a.state.comments))})})},a.deleteComment=function(e){x(e).then(function(){a.setState({comments:a.state.comments.filter(function(t){return t._id!==e})})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.article&&this.state.comments&&r.a.createElement(J,{article:this.state.article,comments:this.state.comments,user:this.props.user,addComment:this.addComment,deleteComment:this.deleteComment}))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"tickle122"},a.handleSubmit=function(e){e.preventDefault(),a.props.login(a.state.username)},a.handleChange=function(e){a.setState({username:e.target.value})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.user.username?this.props.children:r.a.createElement("form",{id:"loginContainer",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleChange,value:this.state.username}),r.a.createElement("button",null,"Log in "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),P=function(e){return r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"Error 404: Page not Found"),r.a.createElement("h1",null," ",e.location.state.msg," "))},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},a.login=function(e){console.log(e),M(e).then(function(e){sessionStorage.setItem("username",JSON.stringify(e)),a.setState({user:e})})},a.signOut=function(){a.setState({user:null})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("a",{href:"/",class:"logo"},"The E Word"),r.a.createElement("div",{class:"header-right"},r.a.createElement("a",{class:"active",href:"/"},"Home"),r.a.createElement("a",{href:"/"},"Contact"),r.a.createElement("a",{href:"/"},"About"))),r.a.createElement(h,null),r.a.createElement(L,{login:this.login,user:this.state.user},r.a.createElement(d.b,null,r.a.createElement(A,{path:"/articles",heading:"articles"}),r.a.createElement(A,{path:"/articles/:topic",heading:"articles"}),r.a.createElement(F,{path:"/article/:article_id",heading:"article",user:this.state.user}),r.a.createElement(P,{path:"/error"}),r.a.createElement(P,{default:!0}))),r.a.createElement("footer",{id:"footer"},r.a.createElement("div",{id:"row"},r.a.createElement("p",{id:"footertext"},"Posted by: Emma Jarvis as a Northcoders project"),r.a.createElement("br",null),r.a.createElement("a",{id:"social",href:"https://www.linkedin.com/in/emma-l-jarvis-mba-35090153/"},r.a.createElement("img",{src:"https://mbtskoudsalg.com/images/linkedin-transparent-symbol-5.png",width:"40px"})," "))))}},{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("username");e&&this.setState({user:JSON.parse(e)})}}]),t}(n.Component);i.a.render(r.a.createElement(U,null),document.getElementById("root"))},8:function(e,t,a){},9:function(e,t,a){}},[[25,2,1]]]);
//# sourceMappingURL=main.2899e418.chunk.js.map